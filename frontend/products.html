<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>

<h2 style="text-align:center">Products</h2>
<div id="products" style="display:grid;grid-template-columns:repeat(3,1fr);gap:20px;padding:40px"></div>

<script type="module">
import { supabase } from "../supabase/config.js";

const { data: products } = await supabase.from("products").select();

const container = document.getElementById("products");

products.forEach(p => {
  container.innerHTML += `
    <div style="background:white;padding:20px;border-radius:8px">
      <img src="${p.image}" style="width:100%">
      <h3>${p.name}</h3>
      <p>${p.description}</p>
      <button onclick="selectProduct('${p.id}')">Order Now</button>
    </div>
  `;
});

window.selectProduct = id => localStorage.setItem("product", id) || location.assign("cart.html");
</script>

</body>
</html>
